# صورتجلسه پروژه مدیریت کانال تلگرام

## اطلاعات کلی
- نام پروژه: Telegram Channel Manager
- آدرس گیت‌هاب: https://github.com/omidamz75/telegram-channels-manager.git
TELEGRAM_BOT_TOKEN=7307533423:AAHy1LkcchRHfR0Yd5U3HDPY1FokXSkYAwQ
TELEGRAM_API_ID=24172271
TELEGRAM_API_HASH=523ed75dca9cc26962ebe4da4615f702

## معرفی پروژه
این پروژه یک ربات تلگرام برای مدیریت کانال‌ها و ارتباط با مخاطبین است که قابلیت‌های زیر را ارائه می‌دهد:

### هدف پروژه
- ذخیره‌سازی اطلاعات مخاطبین کانال‌های تلگرامی
- ایجاد پشتیبان از لیست مخاطبین
- ارسال پیام تبلیغاتی به مخاطبین
- مدیریت هوشمند ارسال پیام برای جلوگیری از مسدود شدن

### قابلیت‌های اصلی
1. **مدیریت کانال:**
   - دریافت و ذخیره لیست مخاطبین
   - پشتیبان‌گیری از اطلاعات کانال
   - گزارش‌گیری از وضعیت مخاطبین

2. **سیستم ارسال پیام:**
   - ارسال پیام به مخاطبین به صورت هوشمند
   - مدیریت سرعت ارسال برای جلوگیری از مسدودیت
   - چرخش خودکار بین اکانت‌های مختلف
   - ادامه ارسال در صورت مسدود شدن یک اکانت

3. **پنل مدیریت:**
   - مدیریت چندین کانال به صورت همزمان
   - تنظیم پارامترهای ارسال پیام
   - مشاهده گزارش‌های عملکرد
   - مدیریت اکانت‌های ارسال کننده

### کاربران هدف
- مدیران کانال‌های تلگرامی
- کسب و کارهای آنلاین
- سرویس‌های تبلیغاتی

## تکنولوژی‌ها
- Python 3.9+
- Telethon
- pytest برای تست

## استراتژی توسعه
### برنچ‌های اصلی
1. **basic-commands**
   - پیاده‌سازی دستورات پایه (/start, /help)
   - خوش‌آمدگویی و راهنمای اولیه
   - ساختار ماژولار برای هر دستور

2. **channel-management**
   - دریافت لینک کانال از کاربر
   - استخراج و ذخیره اطلاعات اعضای کانال
   - ارسال فایل txt حاوی دیتابیس اعضا


## روند توسعه
1. **فاز اول: دستورات پایه (basic-commands)**
   - پیاده‌سازی /start با پیام خوش‌آمدگویی
   - پیاده‌سازی /help با راهنمای دستورات
   - تست‌نویسی برای هر دستور
   - مرج به main پس از اطمینان از عملکرد صحیح

2. **فاز دوم: مدیریت کانال (channel-management)**
   - ایجاد دکمه دریافت لینک کانال
   - پیاده‌سازی پردازش لینک و استخراج اطلاعات
   - ذخیره‌سازی اطلاعات در فایل txt
   - تست‌نویسی کامل قابلیت‌ها

## مزایای ساختار جدید
- جداسازی کامل دستورات و قابلیت‌ها
- امکان توسعه موازی روی برنچ‌های مختلف
- قابلیت بازگشت به هر مرحله در صورت بروز مشکل
- مستندسازی بهتر با ساختار ماژولار
- تست‌پذیری بالاتر

## نکات مهم
- هر قابلیت جدید در برنچ مجزا توسعه یابد
- تست‌ها قبل از مرج به main کامل شوند
- مستندات هر ماژول در پوشه مربوطه نگهداری شود
- کامیت‌ها معنادار و مرتبط با تغییرات باشند

### سیستم پیام‌رسانی
1. **مدیریت پیام‌ها:**
   - قابلیت ارسال متن، عکس، ویدیو و فایل
   - امکان زمان‌بندی ارسال پیام
   - پیش‌نمایش پیام قبل از ارسال
   - ذخیره پیام‌های آماده (Templates)

2. **مکانیزم ارسال هوشمند:**
   - تنظیم فاصله زمانی بین ارسال‌ها (15-30 ثانیه)
   - محدودیت تعداد پیام در ساعت (حداکثر 20 پیام)
   - محدودیت تعداد پیام در روز (حداکثر 200 پیام)
   - سیستم نوبت‌دهی خودکار بین اکانت‌ها

3. **مدیریت خطاها:**
   - تشخیص خودکار مسدودیت
   - تغییر خودکار به اکانت بعدی
   - لاگ خطاها و وضعیت ارسال
   - گزارش عملکرد روزانه

### ساختار ماژول‌های هندلر
1. **ماژول‌های پایه:**
   - `start/`: پیام خوش‌آمدگویی و منوی اصلی
   - `help/`: راهنمای دستورات و قابلیت‌ها
   - `settings/`: تنظیمات پایه ربات

2. **ماژول‌های مدیریت کانال:**
   - `channel_add/`: افزودن کانال جدید
   - `channel_list/`: مدیریت کانال‌های موجود
   - `member_export/`: استخراج اطلاعات اعضا
   - `channel_stats/`: آمار و گزارش‌گیری

3. **ماژول‌های پیام‌رسانی:**
   - `message_compose/`: ساخت پیام جدید
   - `message_schedule/`: زمان‌بندی ارسال
   - `message_templates/`: مدیریت قالب‌های آماده
   - `sending_status/`: وضعیت ارسال‌ها

### ساختار منو
1. **منوی اصلی:**
   ```
   🏠 منوی اصلی
   ├── 👤 پنل کاربری
   ├── ⚙️ تنظیمات
   ├── 📊 گزارش‌ها
   └── ℹ️ راهنما
   ```

2. **پنل مدیریت:**
   ```
   ⚙️ پنل مدیریت
   ├── 📱 مدیریت کانال‌ها
   │   ├── ➕ افزودن کانال
   │   ├── 📋 لیست کانال‌ها
   │   └── 📊 آمار کانال‌ها
   ├── 📨 مدیریت پیام‌ها
   │   ├── ✍️ پیام جدید
   │   ├── ⏰ زمان‌بندی
   │   └── 📝 قالب‌های آماده
   └── 👥 مدیریت کاربران
       ├── 📥 دریافت لیست
       └── 📤 ارسال پیام
   ```

3. **پنل کاربری:**
   ```
   👤 پنل کاربری
   ├── 📊 آمار عملکرد
   ├── 💾 پشتیبان‌گیری
   └── ⚙️ تنظیمات شخصی
   ```

### کلیدهای اضافی
1. **کلیدهای مدیریتی:**
   - `📊 وضعیت سیستم`: نمایش وضعیت کلی ربات
   - `🔄 تغییر اکانت`: تعویض دستی اکانت ارسال
   - `⏸ توقف موقت`: توقف موقت عملیات ارسال
   - `📋 لاگ سیستم`: مشاهده لاگ‌های سیستم

2. **کلیدهای کاربری:**
   - `📱 اطلاعات کانال`: نمایش آمار کانال
   - `👥 لیست اعضا`: دریافت لیست اعضا
   - `📨 پیش‌نمایش`: مشاهده پیش‌نمایش پیام
   - `🔍 جستجو`: جستجو در پیام‌ها و اعضا

### محدودیت‌ها و امنیت
1. **محدودیت‌های ارسال:**
   - حداکثر 20 پیام در ساعت
   - حداکثر 200 پیام در روز
   - حداقل 15 ثانیه فاصله بین هر ارسال
   - حداکثر 5 کانال همزمان

2. **امنیت:**
   - تأیید دو مرحله‌ای برای مدیران
   - محدودیت دسترسی IP
   - لاگ تمامی عملیات‌ها
   - بکاپ خودکار روزانه
